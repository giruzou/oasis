<div id="index" v-cloak>
  <h3>
    <%= owner %>/<%= repo %>
    <small>
      <a href="https://github.com/<%= owner %>/<%= repo %>">
        <i class="fa fa-github"></i>
      </a>
    </small>
  </h3>
  <h4>Branches</h4>
  <select v-model="branch" :disabled="!branches.length">
    <option disabled value="" v-if="!branches.length">Loading...</option>
    <option v-for="branch in branches">{{branch.name}}</option>
  </select>
  <div v-show="branch">
    <h5>Commits</h5>
    <input type="checkbox" v-model="displayAll" id="displayAll">
    <label for="displayAll" class="label-inline">Display All</label>
    <ul class="fa-ul">
      <li v-show="promise">
        <i class="fa fa-li fa-refresh fa-spin"></i>
        Loading...
      </li>
      <li v-for="commit in showCommits">
        <i class="fa fa-li" :class="commit.docker.exist ? 'fa-circle-o' : 'fa-times'"></i>
        {{commit.commit.message}}({{commit.sha.substr(0, 7)}})
        <a :href="previewURL(commit.sha)" v-show="commit.docker.exist">
          <i class="fa fa-cloud-upload"></i>
        </a>
        <a :href="`/rebuild?id=${commit.sha.substr(0, 7)}`">
          <i class="fa fa-recycle"></i>
        </a>
      </li>
    </ul>
  </div>
</div>
<script src="<%= host %>/js/index.js"></script>